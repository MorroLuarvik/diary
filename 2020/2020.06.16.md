[Раньше](2020.06.15.md)  
## Утро
Малой подниматься не стал. Поэтому у меня получился сеанс медитации.

У Нелли плохо с настроением. У меня тоже вспышки гнева. Видно слишком понадеялся на медитацию.
## Работа
Раскидал записи в ежедневнике.  
Посмотрел курсы фиата.  
Принялся расставлять по местам составляющие задачи по НДС.  
Решил задачу по отображению НДС.

Опять возился с книгой "Чистая архитектура".  
Определение интерфейса в python.
```python
class MyClass(object):
    
    def __init__(self):
        self.run()

    def run(self):
        raise NotImplementedError(
            'Определите run в %s.' % (self.__class__.__name__))


class MySubclass(MyClass):
    """Наследник, у которого run должен был быть определён."""


my_obj = MySubclass()  # NotImplementedError: Определите run в MySubclass.
```

Этапы для реализиции singleBot
 - структура проекта
    - источник данных
    - бот
    - биржа
    - среда исполнения
    - консольный интерфейс
 - Взаимосвязи структур  
 А взаимодействовать со всей этой лабудой у нас будет происходить через интерфейсы "Принцип инверси зависимости"
    - консольный интерфейс
        - среда исполнения
            - бот
                - источник данных
            - биржа
                - источник данных
 - Классы
 - Файловая структура

Немного повозился со структурой.
Необходимо сообразить тестовый пример расширяемого кода, куда можно было-бы безболезненно добавлять новых ботов, биржы и интерфейсы.

Провёл сеанс медитации.

Так, есть [годная статья о реализации фабричного метода на питоне](https://webdevblog.ru/shablon-fabrichnogo-metoda-i-ego-realizaciya-v-python/), при её прочтении возникает следующая идея:  
Помимо исполняемых модулей, которые действуют сами по себе, существует ещё некий "контроллер" который выдаёт эти модули по запросу. Причём, при написании очередного модуля, вызавается код контроллера, где он "прописывается" с привязкой к соответсвующему индексу.

А "абстрактные" классы с поддержкой `NotImplementedError` можно использовать для того, чтобы вся эта конструкция не расползалась.

## Путь домой
## Дома
[Дальше](2020.06.16.md)