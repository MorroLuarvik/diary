[Раньше](2017.09.06.md)

С утра взялся за импорт торгов. К 11 часам сделал.
Делал по фортовской методике, мелкими итерациями, с последующей проверкой. Поэтому так быстро получилось.
Пока не наступил обед, взялся за перенос кода и БД на бой. Бекап старых торгов пришлось делать частями. Одним куском не позволяли ограничения хоостинга на память.

Процесс затянулся до конца рабочего дня. При этом время между итерациями 15-35 минут. Ни два, ни полтора. Занимала это время процедура удаления данных.

Лимит использования БД превысил в двое.
Таблица с торгами как раз занимала те самые 5 Гб. Что интересные, после апдейта таблицы, в консоли хостера, отображение доступного места на диске не поменялось.

Попутно начал нервичать о выполнинии рабочих задач.
В обед позвонили по резюме. Договорились передать моё резюме дальше по инстанциям. Не хочу там работать, но посмотреть интересно.

По рабочим делам посмотрел где харнится флаг двойных бонусов. Поменял признак отсутствия удвоения с 0 на 1, дабы просто умножать на коэффициент.
В принципе, самое критичное - сделать оповещение диспетчеров о факте наличия в заказе двойных бонусов. Это просто и можно реализовать завтра до обеда.

По итогам реализованного импорта торгов:
БД практически не трогается. Кеширование редко используемых данных. Все дела.
Использование процессорного времени возросло. Интересно, насколько это будет пропорционально нагрузке на сайт.

Следующее - апдейт статистики, в виде очереди действий.

Завтра:
С утра сделать оповещение о двойных бонусах для менеджеров.
Также необходимо оповестить Евгения об изменившемся признаке удвоения.
Затем фигачить остальные рабочие задачи.

[Дальше](2017.09.08.md)