Сегодня опять лень настигла. С утра тупил в гиктаймс.
В итоге решил заняться спекулятором.

Сделал систему заапуска задач.
Похоже я не продумал полностью систему.
Object_class берётся из шаблона задачи. А в самой задаче есть object_id, но он нигде не используется. Возможно это потому, что я пока реализовал исполнение только апдейта статистики - а она одна на весь сайт и все биржы.

Надо будет продумать реализацию задач для ордеров и ботов. Или для ключей. Придумать, какие задачи можно будет реализовать.

Затем оформил получение статистики.
Статистика получается и сохраняется через волшебную формулу, чтобы потом была возможность быстро получить сигму.
Алгоритм получения статистики оптимизировал, дабы избежать пересечения срезов. Временные данные хранятся в кеше.

Обнаружил интересные вещи:
По паре btc/usd на бирже exmo больше объёмы и больше мат.ожидание, чем на бирже wex, бывший btc-e.

Похоже крупнейшая русскоязычная биржа перестала быть таковой.

И ещё, для 12к событий за 12 дней, данные непосчитанные за последине 5-10 минут оказывают влияние на сигму уже во втором знаке. В случае 24к событий - таких проблем нет.
Если считать сигму за определённый период - различие получается только в 6-8 знаках.

Сегодня посуду помыл.
Завтра, по хорошему, надо подготовить сайт для осмотра и составление списка претензий.